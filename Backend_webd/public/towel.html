<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Towel</title>
    <link rel="stylesheet" href="\css\towel.css">
    <link rel="icon" href="\images\icon.jpg" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="\images\icon.jpg">
</head>
<body>
    <header>
        <h1>Towel Page</h1>
    </header>
    
    <main id="productContainer"></main>
    <script>
       fetch('/Product')
    .then(response => {
        if (!response.ok) {
            throw new Error('Failed to fetch data');
        }
        return response.json();
    })
    .then(data => {
        const productContainer = document.getElementById('productContainer');
        if (productContainer) {
            data.forEach(product => {
                const productCard = document.createElement('div');
                productCard.classList.add('product');

                const productImage = document.createElement('img');
                productImage.src = product.Image;
                productImage.alt = `Product Image: ${product.Brand}`;

                const productInfo = document.createElement('div');
                productInfo.classList.add('product-info');

                const productName = document.createElement('h2');
                productName.textContent = product.Brand;

                const productDescription = document.createElement('p');
                productDescription.textContent = product["Product Type"];

                const productPrice = document.createElement('p');
                productPrice.textContent = `Price: â‚¹${product.Price}`;

                const productRating = document.createElement('p');
                productRating.textContent = `Rating: ${product.Rating}`;

                const addToWishlistButton = document.createElement('button');
                addToWishlistButton.textContent = 'Add to Wishlist';
                addToWishlistButton.classList.add('add-to-wishlist-button');
                addToWishlistButton.dataset.productName = product.Brand; // Set product name as dataset

                addToWishlistButton.addEventListener('click', () => {
                    addToWishlist(product.Brand); // Call addToWishlist function
                });


                productInfo.appendChild(productName);
                productInfo.appendChild(productDescription);
                productInfo.appendChild(productPrice);
                productInfo.appendChild(productRating);
                productInfo.appendChild(addToWishlistButton); // Append Add to Wishlist button


                productCard.appendChild(productImage);
                productCard.appendChild(productInfo);

                productContainer.appendChild(productCard);
            });
        } else {
            console.error('Element with ID "productContainer" not found');
        }
    })
    .catch(error => {
        console.error('Error fetching data:', error);
    });

    </script>
     <script src="\js\wishlist.js"></script>

    <footer>
        <p>&copy; 2024 Humble Home. All rights reserved.</p>
    </footer>

    
</body>
</html>
